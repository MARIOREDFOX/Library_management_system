<!DOCTYPE html>
{% extends 'index.html' %}

{% load static %}
{% block main_content %}

<head>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
            background-image: url("{%static 'library4.jpg'%}");
            background-size: cover;


                        
        }

        header {
            background-color: #35424a;
            color: white;
            padding: 10px 0;
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            margin: 0;
            font-size: 2.5em;
        }

        form {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        input[type="text"],
        input[type="number"] {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }

        button {
            background-color: #35424a;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: #2a2d30;
        }

        hr {
            margin: 20px 0;
            border: 1px solid #e9ecef;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
            transition: background-color 0.3s, color 0.3s; /* Smooth transition for hover effect */
        }

        th {
            background-color: #35424a;
            color: white;
        }

        /* Styling for td */
        td {
            background-color: #e0f7fa; /* Light blue background */
            color: #005b96; /* Dark blue text color */
            border-radius: 4px; /* Rounded corners */
        }

        tbody tr:hover td {
            background-color: #b3e5fc; /* Darker blue on hover */
            color: #004d75; /* Darker text color on hover */
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            input[type="text"],
            input[type="number"],
            button {
                width: 100%;
            }
        }
    </style>
</head>

<body>



    <h2><span class="badge text-bg-secondary d-flex align-items-center justify-content-center" >Library Books</span></h2>
<!-- Search Form -->
 <div class="d-flex justify-content-center align-items-center">
    <form method="GET" action="{% url 'book_list' %}" style="width: 600px;" >
        <label for="search_query">Search Books:</label>
        <input type="text" name="search_query" placeholder="Enter title, author, or ISBN" value="{{ request.GET.search_query }}">
        <button type="submit" style="color: yellow;">Search</button>
    </form>
 </div>


<!-- Display the list of books -->


<table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">ISBN</th>
        <th scope="col">Total Copies</th>
        <th scope="col">Availbale Copies</th>
      </tr>
    </thead>
    <tbody>
        {% for book in page_obj %}
         <tr>
                <td>{{ book.title }}</td>
                <td>{{ book.author }}</td>
                <td>{{ book.isbn }}</td>
                <td>{{ book.total_copies }}</td>
                <td>{{ book.available_copies }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5">No books available.</td>
            </tr>
        {% endfor %}
     
    </tbody>
  </table>
 <!-- Pagination Controls -->
<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1&search_query={{ search_query }}">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}&search_query={{ search_query }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}&search_query={{ search_query }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}&search_query={{ search_query }}">last &raquo;</a>
        {% endif %}
    </span>
</div>


<hr>
  
  

<hr>

<!-- Add Book Form -->
 <div class="d-flex justify-content-center align-items-center">
<form method="POST" style="width: 700px;" action="{% url 'add_book' %}">
    {% csrf_token %}
    <div>
        <label for="title">Title:</label>
        <input type="text" name="title" required>
    </div>
    <div>
        <label for="author">Author:</label>
        <input type="text" name="author" required>
    </div>
    <div>
        <label for="isbn">ISBN:</label>
        <input type="text" name="isbn" required>
    </div>
    <div>
        <label for="total_copies">Total Copies:</label>
        <input type="number" name="total_copies" required>
    </div>
    <button type="submit" style="color: yellow;">Add Book</button>
</form>
</div>

{% endblock %}

</body>
</html>
